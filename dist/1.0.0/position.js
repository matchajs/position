define("matcha/position/1.0.0/position",["jquery"],function(a,b,c){function d(a){return parseFloat(a,10)||0}function e(a){throw new Error(a)}function f(a){var b=a.getBoundingClientRect(),c=window,d=c.document,e=d.body,f=d.documentElement;return{left:b.left+(c.pageXOffset||f.scrollLeft)-(f.clientLeft||e.clientLeft||0),top:b.top+(c.pageYOffset||f.scrollTop)-(f.clientTop||e.clientTop||0)}}function g(a){var b=window.document,c=b.body,e=a.offsetParent();e[0]===b.documentElement&&(e=m(c)),n&&e.css("zoom",1);var g;return g=e[0]===c&&"static"===e.css("position")?{top:0,left:0}:f(e[0]),g.top+=d(e.css("border-top-width")),g.left+=d(e.css("border-left-width")),g}function h(a){return a=String(a).toLowerCase(),a.replace(/top|right|bottom|left|center|px/i,function(a){switch(a){case"right":a="100%";break;case"center":a="50%";break;case"px":a="";break;default:a=0}return a})}function i(a){var b=a.element||a;b instanceof m||(b=m(b)),(!b[0]||b[0].nodeType>1&&b[0].nodeType<9)&&e("element is invalid.");var c=(a.pos||"").split(" ");return c[0]&&1===c.length&&(/top|bottom/.test(c[0])?c=["50%"].concat(c):c.push("50%")),{element:b,position:{x:c[0]?h(c[0]):0,y:c[1]?h(c[1]):0}}}function j(a){var b,c=a[0];if(m.isWindow(c)||c._id===o._id){var d=m(window);b={width:d.width(),height:d.height(),offset:{top:d.scrollTop(),left:d.scrollLeft()}}}else if(c.preventDefault)b={width:0,height:0,offset:{top:c.pageY,left:c.pageX}};else switch(c.nodeType){case 1:b={width:a.outerWidth(),height:a.outerHeight(),offset:f(c)};break;case 9:b={width:a.width(),height:a.height(),offset:{top:0,left:0}};break;default:e("Invalid Element.")}return b}function k(a,b){if(/\d%/.test(a)&&(a=a.replace(/([\d\.]+)%/g,function(a,c){return b*(c/100)||e("Arithmetic Errors.")})),/[+\-*\/]/.test(a))try{a=new Function("return "+a)()}catch(c){e("Invalid position value: "+a)}return d(a)}var l,m=a("jquery"),n=-1!==(window.navigator.userAgent||"").toLowerCase().indexOf("msie 6"),o={_id:"VIEWPORT",nodeType:1};c.exports=function(a,b){a||e("myObject is invalid."),b=b||o,a=i(a),b=i(b);var c=a.element;"fixed"!==c.css("position")||n?(c.css("position","absolute"),l=!1):l=!0;for(var d,f,h=[a,b];d=h.shift();)f=j(d.element),l&&!h.length?d.x=d.y=0:(d.x=f.offset.left,d.y=f.offset.top),d.offset={x:k(d.position.x,f.width),y:k(d.position.y,f.height)};var m=g(c),p=b.x+b.offset.x-a.offset.x-m.left,q=b.y+b.offset.y-a.offset.y-m.top;c.css({left:p,top:q})}});